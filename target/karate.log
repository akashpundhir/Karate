22:50:28.012 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: examples/users/users.feature - mismatched input '}' expecting <EOF>
23:10:30.298 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: examples/users/users.feature - mismatched input '{' expecting <EOF>
23:16:06.718 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:16:10.359 [main] INFO  com.intuit.karate - Environment set to: dev 
23:16:10.441 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:16:10.443 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:16:10.444 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:16:10.445 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:16:10.446 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:16:10.447 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:16:10.448 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:16:10.449 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:16:10.450 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:22
Given url baseUrl
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
23:16:10.451 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:23
And request { title: 'Buy groceries', complete: false }
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
23:16:10.452 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:24
When method post
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
23:16:10.453 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:25
Then status 200
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
23:16:10.457 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:26
And match response == { id: '#string', title: 'Buy groceries', complete: false }
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
23:16:10.457 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:27
* def todoId = response.id
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
23:16:10.458 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:30
* def kafkaMessage = kafkaUtils.waitForMessage(kafkaTopic, todoId, timeoutMs / 1000)
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
23:16:10.459 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:31
* match kafkaMessage != null
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
23:16:10.460 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:32
* match kafkaMessage.value contains '"eventType":"TODO_CREATED"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
23:16:10.460 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:33
* match kafkaMessage.value contains '"todoId":"#(todoId)"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
classpath:examples/users/users.feature:33
23:16:10.462 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:34
* match kafkaMessage.value contains '"title":"Buy groceries"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
classpath:examples/users/users.feature:33
classpath:examples/users/users.feature:34
23:16:10.571 [main] INFO  com.intuit.karate - Environment set to: dev 
23:16:10.625 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:16:10.626 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:16:10.627 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:16:10.629 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:16:10.630 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:16:10.630 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:16:10.631 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:16:10.633 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:16:10.634 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:39
* def createResponse = karate.call('classpath:features/todo-kafka.feature@createTodo', { title: 'Initial task', complete: false })
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
23:16:10.635 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:40
* def todoId = createResponse.id
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
23:16:10.636 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:43
Given url baseUrl + '/' + todoId
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
23:16:10.636 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:44
And request { title: 'Updated task', complete: true }
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
23:16:10.637 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:45
When method put
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
23:16:10.643 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:46
Then status 200
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
23:16:10.643 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:47
And match response == { id: '#(todoId)', title: 'Updated task', complete: true }
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
23:16:10.646 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:50
* def kafkaMessage = kafkaUtils.waitForMessage(kafkaTopic, todoId, timeoutMs / 1000)
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
23:16:10.647 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:51
* match kafkaMessage != null
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
23:16:10.648 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:52
* match kafkaMessage.value contains '"eventType":"TODO_UPDATED"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
23:16:10.649 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:53
* match kafkaMessage.value contains '"todoId":"#(todoId)"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
23:16:10.650 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:54
* match kafkaMessage.value contains '"title":"Updated task"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
classpath:examples/users/users.feature:54
23:16:10.652 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:55
* match kafkaMessage.value contains '"complete":true'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
classpath:examples/users/users.feature:54
classpath:examples/users/users.feature:55
23:16:10.723 [main] INFO  com.intuit.karate - Environment set to: dev 
23:16:10.740 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:16:10.740 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:16:10.741 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:16:10.742 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:16:10.750 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:16:10.769 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:16:10.770 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:16:10.771 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:16:10.772 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:59
Given url baseUrl
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
23:16:10.775 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:60
And request { title: '', complete: false } # Invalid title
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
23:16:10.776 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:61
When method post
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
23:16:10.777 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:62
Then status 400
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
23:16:10.777 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:63
And match response contains { error: '#string' }
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
23:16:10.782 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:66
* def messages = kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 10, 2)
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
classpath:examples/users/users.feature:66
23:16:10.783 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:67
* match messages.size() == 0
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
classpath:examples/users/users.feature:66
classpath:examples/users/users.feature:67
23:16:10.882 [main] INFO  com.intuit.karate - Environment set to: dev 
23:16:10.908 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:16:10.909 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:16:10.910 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:16:10.913 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:16:10.913 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:16:10.914 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:16:10.916 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:16:10.917 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:16:10.918 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:72
* def todo1 = karate.call('classpath:features/todo-kafka.feature@createTodo', { title: 'First task', complete: false
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:72
23:17:43.605 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:17:46.462 [main] INFO  com.intuit.karate - Environment set to: dev 
23:17:46.524 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:17:46.525 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:17:46.527 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:17:46.527 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:17:46.528 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:17:46.528 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:17:46.529 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:17:46.529 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:17:46.530 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:22
Given url baseUrl
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
23:17:46.530 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:23
And request { title: 'Buy groceries', complete: false }
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
23:17:46.531 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:24
When method post
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
23:17:46.531 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:25
Then status 200
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
23:17:46.532 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:26
And match response == { id: '#string', title: 'Buy groceries', complete: false }
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
23:17:46.532 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:27
* def todoId = response.id
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
23:17:46.532 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:30
* def kafkaMessage = kafkaUtils.waitForMessage(kafkaTopic, todoId, timeoutMs / 1000)
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
23:17:46.533 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:31
* match kafkaMessage != null
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
23:17:46.534 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:32
* match kafkaMessage.value contains '"eventType":"TODO_CREATED"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
23:17:46.535 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:33
* match kafkaMessage.value contains '"todoId":"#(todoId)"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
classpath:examples/users/users.feature:33
23:17:46.536 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:34
* match kafkaMessage.value contains '"title":"Buy groceries"'
>> classpath:examples/users/users.feature:21
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:22
classpath:examples/users/users.feature:23
classpath:examples/users/users.feature:24
classpath:examples/users/users.feature:25
classpath:examples/users/users.feature:26
classpath:examples/users/users.feature:27
classpath:examples/users/users.feature:30
classpath:examples/users/users.feature:31
classpath:examples/users/users.feature:32
classpath:examples/users/users.feature:33
classpath:examples/users/users.feature:34
23:17:46.673 [main] INFO  com.intuit.karate - Environment set to: dev 
23:17:46.720 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:17:46.721 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:17:46.725 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:17:46.725 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:17:46.729 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:17:46.736 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:17:46.741 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:17:46.743 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:17:46.744 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:39
* def createResponse = karate.call('classpath:features/todo-kafka.feature@createTodo', { title: 'Initial task', complete: false })
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
23:17:46.745 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:40
* def todoId = createResponse.id
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
23:17:46.747 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:43
Given url baseUrl + '/' + todoId
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
23:17:46.754 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:44
And request { title: 'Updated task', complete: true }
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
23:17:46.754 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:45
When method put
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
23:17:46.755 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:46
Then status 200
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
23:17:46.756 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:47
And match response == { id: '#(todoId)', title: 'Updated task', complete: true }
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
23:17:46.757 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:50
* def kafkaMessage = kafkaUtils.waitForMessage(kafkaTopic, todoId, timeoutMs / 1000)
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
23:17:46.757 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:51
* match kafkaMessage != null
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
23:17:46.760 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:52
* match kafkaMessage.value contains '"eventType":"TODO_UPDATED"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
23:17:46.760 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:53
* match kafkaMessage.value contains '"todoId":"#(todoId)"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
23:17:46.762 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:54
* match kafkaMessage.value contains '"title":"Updated task"'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
classpath:examples/users/users.feature:54
23:17:46.763 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:55
* match kafkaMessage.value contains '"complete":true'
>> classpath:examples/users/users.feature:37
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:39
classpath:examples/users/users.feature:40
classpath:examples/users/users.feature:43
classpath:examples/users/users.feature:44
classpath:examples/users/users.feature:45
classpath:examples/users/users.feature:46
classpath:examples/users/users.feature:47
classpath:examples/users/users.feature:50
classpath:examples/users/users.feature:51
classpath:examples/users/users.feature:52
classpath:examples/users/users.feature:53
classpath:examples/users/users.feature:54
classpath:examples/users/users.feature:55
23:17:46.824 [main] INFO  com.intuit.karate - Environment set to: dev 
23:17:46.846 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:17:46.848 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:17:46.849 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:17:46.855 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:17:46.857 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:17:46.857 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:17:46.858 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:17:46.859 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:17:46.860 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:59
Given url baseUrl
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
23:17:46.861 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:60
And request { title: '', complete: false } # Invalid title
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
23:17:46.861 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:61
When method post
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
23:17:46.861 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:62
Then status 400
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
23:17:46.862 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:63
And match response contains { error: '#string' }
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
23:17:46.862 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:66
* def messages = kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 10, 2)
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
classpath:examples/users/users.feature:66
23:17:46.862 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:67
* match messages.size() == 0
>> classpath:examples/users/users.feature:58
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:59
classpath:examples/users/users.feature:60
classpath:examples/users/users.feature:61
classpath:examples/users/users.feature:62
classpath:examples/users/users.feature:63
classpath:examples/users/users.feature:66
classpath:examples/users/users.feature:67
23:17:47.010 [main] INFO  com.intuit.karate - Environment set to: dev 
23:17:47.046 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
23:17:47.048 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def kafkaUtils = karate.config.kafkaUtils
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
23:17:47.052 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def kafkaTopic = karate.config.kafka.topics.todoEvents
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
23:17:47.054 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:7
* def consumerGroup = karate.config.kafka.consumerGroup
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
23:17:47.058 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:8
* def timeoutMs = karate.config.kafka.timeoutMs
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
23:17:47.060 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:11
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
23:17:47.060 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:12
* eval
"""
for (var i = 0; i < todos.length; i++) {
  karate.call('classpath:features/todo-kafka.feature@deleteTodo', { id: todos[i].id });
}
"""
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
23:17:47.062 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:18
* eval kafkaUtils.consumeMessages(kafkaTopic, consumerGroup, 100, 2) // Clear topic
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
23:17:47.063 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:72
* def todo1 = karate.call('classpath:features/todo-kafka.feature@createTodo', { title: 'First task', complete: false
>> classpath:examples/users/users.feature:70
>> karate-config.js failed
>> TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
js failed:
>>>>
01: function fn() {
02:     // Get environment from system property or default to 'dev'
03:     var env = karate.env || 'dev';
04:     karate.log('Environment set to:', env);
05: 
06:     // Default config structure
07:     var config = {
08:         env: env,
09:         baseUrl: '',
10:         kafka: {
11:             bootstrapServers: '',
12:             topics: {
13:                 todoEvents: 'todo-events-topic'
14:             },
15:             consumerGroup: 'todo-test-group',
16:             timeoutMs: 10000,
17:             maxMessages: 10
18:         },
19:         security: {
20:             kafkaUsername: '',
21:             kafkaPassword: ''
22:         }
23:     };
24: 
25:     // Environment-specific overrides
26:     if (env === 'dev') {
27:         config.baseUrl = 'http://localhost:8080/api';
28:         config.kafka.bootstrapServers = 'localhost:9092';
29:     } else if (env === 'stage') {
30:         config.baseUrl = 'https://stage-api.example.com/api';
31:         config.kafka.bootstrapServers = 'stage-kafka.example.com:9092';
32:         config.security.kafkaUsername = 'stage-user';
33:         config.security.kafkaPassword = 'stage-pass';
34:     } else if (env === 'perf') {
35:         config.baseUrl = 'https://perf-api.example.com/api';
36:         config.kafka.bootstrapServers = 'perf-kafka.example.com:9092';
37:         config.kafka.timeoutMs = 5000;
38:     } else if (env === 'mtf') {
39:         config.baseUrl = 'https://mtf-api.example.com/api';
40:         config.kafka.bootstrapServers = 'mtf-kafka.example.com:9092';
41:     } else {
42:         karate.fail('Unknown environment: ' + env);
43:     }
44: 
45:     // Load Kafka utility
46:     var KafkaUtils = Java.type('com.example.KafkaUtils');
47:     config.kafkaUtils = new KafkaUtils(
48:         config.kafka.bootstrapServers,
49:         config.security.kafkaUsername,
50:         config.security.kafkaPassword
51:     );
52: 
53:     // Global timeouts
54:     karate.configure('connectTimeout', 5000);
55:     karate.configure('readTimeout', 10000);
56: 
57:     return config;
58: }
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.KafkaUtils is not allowed or does not exist.
- <js>.fn(Unnamed:46)

classpath:examples/users/users.feature:4
classpath:examples/users/users.feature:5
classpath:examples/users/users.feature:6
classpath:examples/users/users.feature:7
classpath:examples/users/users.feature:8
classpath:examples/users/users.feature:11
classpath:examples/users/users.feature:12
classpath:examples/users/users.feature:18
classpath:examples/users/users.feature:72
23:22:36.153 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:22:38.509 [main] INFO  com.intuit.karate - Environment set to: dev 
23:22:38.632 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:22:38.684 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:22:38.735 [main] INFO  com.intuit.karate - Environment set to: dev 
23:22:38.755 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:22:38.763 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:22:38.801 [main] INFO  com.intuit.karate - Environment set to: dev 
23:22:38.813 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:22:38.819 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:22:38.857 [main] INFO  com.intuit.karate - Environment set to: dev 
23:22:38.920 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:22:38.926 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:28:03.020 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:28:05.473 [main] INFO  com.intuit.karate - Environment set to: dev 
23:28:05.590 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseApiUrl
23:28:05.627 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseApiUrl
js failed:
>>>>
01: karate.config.baseApiUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseApiUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:28:05.744 [main] INFO  com.intuit.karate - Environment set to: dev 
23:28:05.769 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseApiUrl
23:28:05.788 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseApiUrl
js failed:
>>>>
01: karate.config.baseApiUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseApiUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:28:05.857 [main] INFO  com.intuit.karate - Environment set to: dev 
23:28:05.872 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseApiUrl
23:28:05.879 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseApiUrl
js failed:
>>>>
01: karate.config.baseApiUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseApiUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:28:05.898 [main] INFO  com.intuit.karate - Environment set to: dev 
23:28:05.909 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseApiUrl
23:28:05.914 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:4
* def baseUrl = karate.config.baseApiUrl
js failed:
>>>>
01: karate.config.baseApiUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseApiUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:4
23:32:53.264 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:32:55.929 [main] INFO  com.intuit.karate - Environment set to: dev 
23:32:55.939 [main] INFO  com.intuit.karate - Final config: null 
23:32:56.057 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:32:56.110 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:32:56.161 [main] INFO  com.intuit.karate - Environment set to: dev 
23:32:56.167 [main] INFO  com.intuit.karate - Final config: null 
23:32:56.185 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:32:56.194 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:32:56.231 [main] INFO  com.intuit.karate - Environment set to: dev 
23:32:56.235 [main] INFO  com.intuit.karate - Final config: null 
23:32:56.262 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:32:56.276 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:32:56.342 [main] INFO  com.intuit.karate - Environment set to: dev 
23:32:56.346 [main] INFO  com.intuit.karate - Final config: null 
23:32:56.367 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:32:56.380 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:37:54.967 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:37:57.814 [main] INFO  com.intuit.karate - >>> ENV: dev 
23:37:57.828 [main] INFO  com.intuit.karate - >>> CONFIG LOADED 
23:37:57.829 [main] INFO  com.intuit.karate - >>> baseUrl = http://localhost:8080/api 
23:37:57.906 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:37:57.941 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:37:57.985 [main] INFO  com.intuit.karate - >>> ENV: dev 
23:37:57.989 [main] INFO  com.intuit.karate - >>> CONFIG LOADED 
23:37:57.990 [main] INFO  com.intuit.karate - >>> baseUrl = http://localhost:8080/api 
23:37:58.001 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:37:58.017 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:37:58.081 [main] INFO  com.intuit.karate - >>> ENV: dev 
23:37:58.083 [main] INFO  com.intuit.karate - >>> CONFIG LOADED 
23:37:58.084 [main] INFO  com.intuit.karate - >>> baseUrl = http://localhost:8080/api 
23:37:58.093 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:37:58.103 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:37:58.148 [main] INFO  com.intuit.karate - >>> ENV: dev 
23:37:58.155 [main] INFO  com.intuit.karate - >>> CONFIG LOADED 
23:37:58.156 [main] INFO  com.intuit.karate - >>> baseUrl = http://localhost:8080/api 
23:37:58.170 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:37:58.175 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:42:16.703 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:42:19.182 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:42:19.190 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:42:19.263 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:42:19.304 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:42:19.347 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:42:19.350 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:42:19.361 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:42:19.373 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:42:19.444 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:42:19.448 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:42:19.457 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:42:19.482 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:42:19.526 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:42:19.528 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:42:19.539 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: karate.config.baseUrl
23:42:19.544 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = karate.config.baseUrl
js failed:
>>>>
01: karate.config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from undefined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:46:01.079 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:46:03.254 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:46:03.263 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:46:03.349 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:46:03.384 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:46:03.434 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:46:03.440 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:46:03.457 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:46:03.480 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:46:03.556 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:46:03.561 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:46:03.573 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:46:03.581 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:46:03.619 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:46:03.622 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:46:03.635 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:46:03.643 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:5
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:5
23:47:05.114 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:47:07.359 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:47:07.369 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:47:07.532 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:47:07.545 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from null
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:47:07.632 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:47:07.638 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:47:07.689 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:47:07.772 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from null
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:47:07.838 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:47:07.853 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:47:07.888 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:47:07.899 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from null
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:47:07.936 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:47:07.937 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:47:07.950 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:47:07.954 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Cannot read property "baseUrl" from null
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:50:08.268 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:50:10.633 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:50:10.641 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:50:10.717 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:50:10.748 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:50:10.821 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:50:10.834 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:50:10.844 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:50:10.853 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:50:10.881 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:50:10.885 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:50:10.898 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:50:10.907 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:50:10.975 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:50:10.977 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:50:11.014 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:50:11.049 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:51:13.877 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:51:16.082 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:51:16.092 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:51:16.165 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:51:16.201 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:51:16.249 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:51:16.251 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:51:16.266 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:51:16.275 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:51:16.300 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:51:16.308 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:51:16.328 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:51:16.346 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:51:16.381 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:51:16.386 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:51:16.417 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:51:16.431 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:6
* def baseUrl = config.baseUrl
js failed:
>>>>
01: config.baseUrl
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "config" is not defined
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:6
23:54:32.988 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:54:35.364 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:54:35.375 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:54:35.493 [main] INFO  com.intuit.karate - >> lock acquired, begin callSingle: classpath:karate-config.js
23:54:35.497 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:54:35.503 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:54:35.519 [main] INFO  com.intuit.karate - << lock released, cached callSingle: classpath:karate-config.js
23:54:35.648 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:54:35.747 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:features/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: not found: features/todo-kafka.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
23:54:35.802 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:54:35.804 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:54:35.822 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:54:35.879 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:features/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: not found: features/todo-kafka.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
23:54:35.959 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:54:35.999 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:54:36.036 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:54:36.123 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:features/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: not found: features/todo-kafka.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
23:54:36.192 [main] INFO  com.intuit.karate - >>> Environment: dev 
23:54:36.197 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
23:54:36.222 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
23:54:36.268 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:features/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:features/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: not found: features/todo-kafka.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
00:05:36.742 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:05:40.242 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:05:40.253 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:05:40.392 [main] INFO  com.intuit.karate - >> lock acquired, begin callSingle: classpath:karate-config.js
00:05:40.397 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:05:40.399 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:05:40.412 [main] INFO  com.intuit.karate - << lock released, cached callSingle: classpath:karate-config.js
00:05:40.532 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:05:40.624 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 4: getAllTodos
00:05:41.870 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:05:41.941 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 1210 milliseconds for url: http://localhost:8080/api
00:05:41.943 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:6
When method get
http call failed after 1210 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
00:05:41.979 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 1210 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
00:05:42.033 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:05:42.038 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:05:42.057 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:05:42.108 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 4: getAllTodos
00:05:42.231 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:05:42.251 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 23 milliseconds for url: http://localhost:8080/api
00:05:42.263 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:6
When method get
http call failed after 23 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
00:05:42.288 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 23 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
00:05:42.456 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:05:42.466 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:05:42.495 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:05:42.521 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 4: getAllTodos
00:05:42.573 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:05:42.603 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 31 milliseconds for url: http://localhost:8080/api
00:05:42.605 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:6
When method get
http call failed after 31 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
00:05:42.623 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 31 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
00:05:42.675 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:05:42.699 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:05:42.761 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:05:42.822 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 4: getAllTodos
00:05:42.933 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:05:42.943 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 11 milliseconds for url: http://localhost:8080/api
00:05:42.948 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:6
When method get
http call failed after 11 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
00:05:42.956 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:15
* def todos = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 11 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:6
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:15
00:38:29.706 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:38:32.206 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:38:32.213 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:38:32.288 [main] INFO  com.intuit.karate - >> lock acquired, begin callSingle: classpath:karate-config.js
00:38:32.291 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:38:32.292 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:38:32.295 [main] INFO  com.intuit.karate - << lock released, cached callSingle: classpath:karate-config.js
00:38:32.358 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:38:32.411 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 17: getAllTodos
00:38:33.186 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:38:33.242 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 756 milliseconds for url: http://localhost:8080/api
00:38:33.243 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:19
When method get
http call failed after 756 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
00:38:33.277 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:13
* def all = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 756 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:13
00:38:33.332 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:38:33.335 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:38:33.352 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:38:33.371 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 17: getAllTodos
00:38:33.395 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:38:33.403 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 11 milliseconds for url: http://localhost:8080/api
00:38:33.404 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:19
When method get
http call failed after 11 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
00:38:33.418 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:13
* def all = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 11 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:13
00:38:33.466 [main] INFO  com.intuit.karate - >>> Environment: dev 
00:38:33.468 [main] INFO  com.intuit.karate - >>> baseUrl: http://localhost:8080/api 
00:38:33.495 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'baseUrl' with new value: config.baseUrl
00:38:33.516 [main] INFO  c.intuit.karate.core.FeatureRuntime - classpath:examples/users/todo-kafka.feature - call by tag at line 17: getAllTodos
00:38:33.539 [main] DEBUG com.intuit.karate - request:
1 > GET http://localhost:8080/api
1 > Host: localhost:8080
1 > Connection: Keep-Alive
1 > User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.12)
1 > Accept-Encoding: gzip,deflate


00:38:33.548 [main] ERROR com.intuit.karate - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: no further information, http call failed after 10 milliseconds for url: http://localhost:8080/api
00:38:33.550 [main] ERROR com.intuit.karate - classpath:examples/users/todo-kafka.feature:19
When method get
http call failed after 10 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
00:38:33.561 [main] ERROR com.intuit.karate - classpath:examples/users/users.feature:13
* def all = karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
js failed:
>>>>
01: karate.call('classpath:examples/users/todo-kafka.feature@getAllTodos')
<<<<
org.graalvm.polyglot.PolyglotException: http call failed after 10 milliseconds for url: http://localhost:8080/api
classpath:examples/users/todo-kafka.feature:19
- com.intuit.karate.core.FeatureResult.getErrorMessagesCombined(FeatureResult.java:215)
- com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:1951)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1849)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:163)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:examples/users/users.feature:13
